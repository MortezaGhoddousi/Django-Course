{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      function showMessage() {
        if (sessionStorage.getItem("loggedIn") === null) {
          window.onload = function () {
            const message = document.querySelector(".hide");
            message.style.display = "block";
            setTimeout(() => {
              message.style.display = "none";
            }, 5000);
          };
        }

        sessionStorage.setItem("loggedIn", "true");

        var userIcon = document.querySelector("#user");
        var bagIcon = document.querySelector("#bag");
        userIcon.style.display = "none";
        bagIcon.style.display = "block";
      }
    </script>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'style.css' %}" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

    <title>PhoneShop</title>
    <script src="{% static 'script.js' %}"></script>
  </head>

  <body>
    <header>
      <img src="{% static 'logo-light.svg' %}" alt="logo" />
      <nav>
        <ul>
          <li class=""><a href="{% url 'home' %}">home</a></li>
          <li class=""><a href="./products.php">products</a></li>
          <li class=""><a href="./about-us.php">about us</a></li>
          <li class=""><a href="./blog.php">blog</a></li>
          <li class=""><a href="./contact-us.php">contact us</a></li>
        </ul>
      </nav>
      <ul>
        <li>
          <a href=""
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              style="fill: rgba(255, 255, 255, 1)"
            >
              <path
                d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"
              ></path></svg>
          </a>
        </li>      
        {% if loggedIn %}
        <li id="bag">
          <span class="badge"></span>
          <a href="./cart.php"
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              style="fill: rgba(255, 255, 255, 1)"
            >
              <path
                d="M5 22h14c1.103 0 2-.897 2-2V9a1 1 0 0 0-1-1h-3V7c0-2.757-2.243-5-5-5S7 4.243 7 7v1H4a1 1 0 0 0-1 1v11c0 1.103.897 2 2 2zM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v1H9V7zm-4 3h2v2h2v-2h6v2h2v-2h2l.002 10H5V10z"
              ></path></svg>
          </a>
        </li>
        <form action="{% url 'signout' %}" method="POST">
          {% csrf_token %}
          <input type="submit" name="signout" id="signout" value="Sign out" />
        </form>
        {% else %}
        <li id="login">
          <a href="{% url 'login' %}" id="user"
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              style="fill: rgba(255, 255, 255, 1)"
            >
              <path
                d="M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"
              ></path></svg>
          </a>
        </li>
        {% endif %}
      </ul>

      <div class="modal">
        <form method="POST">
          <label for="username">Username or Email Address</label>
          <input type="text" name="username" />

          <label for="password">Password</label>
          <input type="password" name="password" />

          <label for="remember"
            >Remember Me <input type="checkbox" name="remember"
          /></label>

          <input type="submit" name="submitLogin" value="Login" />
          <input type="submit" name="submitSignUp" value="Signup" />

          <a href="">Forget Password?</a>
        </form>
      </div>
    </header>

    {% block content %}
    {% endblock %}

    <footer>
      <div>
        <h1>Don’t Miss Our News</h1>
        <form action="{% url 'subscribe' %}" method="post">
          {% csrf_token %}
          <input type="email" placeholder="Your email address *" name="email" required />
          <input type="submit" name="submit" value="subscribe" />
        </form>
      </div>
      <div>
        <aside>
          <img src="{% static  'logo-light.svg' %}" alt="" />
          <p>
            Cras gravida bibendum dolor eu varius morbi fermentum velit eget
            vehicula lorem sodales donec quis volutpat orci.
          </p>

          <ul>
            <li>
              <a href=""><i class="bx bxl-facebook-square"></i></a>
            </li>
            <li>
              <a href=""><i class="bx bxl-twitter"></i></a>
            </li>
            <li>
              <a href=""><i class="bx bxl-linkedin"></i></a>
            </li>
            <li>
              <a href=""><i class="bx bxl-gmail"></i></a>
            </li>
          </ul>
        </aside>
        <aside>
          <h1>USEFUL LINKS</h1>
          <ul>
            <li><a href="./about-us.html">About Us</a></li>
            <li><a href="#">Contact Us</a></li>
            <li><a href="./products.html">Products</a></li>
            <li><a href="#">Login</a></li>
            <li><a href="#">Sign Up</a></li>
          </ul>
        </aside>
        <aside>
          <h1>CUSTOM AREA</h1>
          <ul>
            <li><a href="">My Account</a></li>
            <li><a href="">Tracking List</a></li>
            <li><a href="">Privacy Policy</a></li>
            <li><a href="">Orders</a></li>
            <li><a href="">My Cart</a></li>
          </ul>
        </aside>
        <aside>
          <h1>MORE INFORMATION</h1>
          <p>
            Aliquam faucibus, odio nec commodo aliquam, neque felis placerat
            dui, a porta ante lectus
          </p>
        </aside>
        <p>Copyright © 2025 - Designed by Web 27's class</p>
      </div>
    </footer>
    <script>
      window.USER_ID = "{{ request.session.user_id|default:'' }}";
    </script>
  </body>
</html>
